---
layout: post
title:  "Blog 10!"
date:   2020-11-11
categories: blogs :)
---

In this blog I will discuss how to use AWS Infrastructures such as EC2s and S3 Buckets after implementing these, we will create IAM Roles and S3 Policies. This walkthrough is just a basic implementation in order to showcase using AWS and its many useful features.

After creating IAM Roles, we will attach them to the EC2 Instance. Then finally, install the AWS CLI (Command-Line Interface.)

The initial step is to setup our EC2 Instance. In order to do that, we will go to EC2 > Instances, then click "Launch Instance".

In setting up an EC2 Instance there are 6 steps:

1. Choose your AMI (Amazon Machine Image): 
![Screen Shot 2020-11-12 at 10 34 45 PM](https://user-images.githubusercontent.com/70425468/99037325-5a669280-2538-11eb-8da5-dc1c2ed1f519.png)
- In this walkthrough, I used Ubuntu 20.04 as instructed.

2. Choose Instance type:
![Screen Shot 2020-11-12 at 10 35 16 PM](https://user-images.githubusercontent.com/70425468/99037328-5b97bf80-2538-11eb-84f1-0993bf5e0db8.png)
- As I only had a free tier, I left this as default.

3. Choose Instance Details:
![Screen Shot 2020-11-12 at 10 35 23 PM](https://user-images.githubusercontent.com/70425468/99037373-6baf9f00-2538-11eb-9d1f-8b9ecef9fb57.png)
- Also left this configuration default, but made sure 'Auto-assign Public IP' `enabled`.

4. Add Storage:
![Screen Shot 2020-11-12 at 10 35 55 PM](https://user-images.githubusercontent.com/70425468/99037382-6e11f900-2538-11eb-9236-88f56737ac9e.png)
- Also left as default.

5. Add Tags:
![Screen Shot 2020-11-12 at 10 36 01 PM](https://user-images.githubusercontent.com/70425468/99037391-710ce980-2538-11eb-89fc-7b379a78c10d.png)
- Left as default.

6. Configure Security Group
![Screen Shot 2020-11-12 at 10 39 07 PM](https://user-images.githubusercontent.com/70425468/99037396-7407da00-2538-11eb-8bfc-2150da7596f9.png)
- This configuration is important as if we leave it as default, anyone can access the instance. In this case, I configured it in a way that we have to ssh into the instance using the school provided VPN.

S3 Bucket:

For creating the S3 Bucket, I also left the configuration basic as we just need a basic Bucket for this instance. One thing to note is that bucket names should be unique as there cannot be duplicates.

IAM Role:

For the IAM Role, the only configuration to make sure to pick is the AmazonS3FullAccess as shown:

![Screen Shot 2020-11-13 at 12 43 23 AM](https://user-images.githubusercontent.com/70425468/99047904-bab20000-2549-11eb-8de2-5ecdf571df22.png)

To attach the IAM Role, we'll come back to the Instances page and check the box for our instance, go to `Actions > Security > Modify IAM Role` here we can attach our newly made IAM Role.

Now we have an EC2 Instance that has an S3 Bucket to use for storage an IAM Role that allows the instance to call AWS instances on our behalf.

Now, let's ssh into our instance to install the AWS CLI!

Go to your terminal and type `ssh -i <key-name> ubuntu@<your-instance-ip-addr>`

Once we're inside, type: `sudo apt install -y awscli` and we're done!
